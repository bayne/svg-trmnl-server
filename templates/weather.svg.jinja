{%- import 'components.svg.jinja' as components -%}
{% extends 'four-col-base.svg.jinja' %}

{% macro t(d, h) %}
    {{ weather.days[d].hours[h].temperature | int }}&#x00b0;
{% endmacro %}
{% macro i(d, h) %}
    {{ weather.days[d].hours[h].icon }}
{% endmacro %}
{% macro p(d, h) %}
    {% if weather.days[d].hours[h].precipitation_probability > 5 %}
    {{ weather.days[d].hours[h].precipitation_probability | int }}%
    {% endif %}
{% endmacro %}

{% block cell_0_0 %}
    {{ components.tn_header(weather.days[0].title) }}
{% endblock %}
{% block cell_0_1 %}
    {{ components.sm_text(i(0, 0), t(0, 0), '7am ' ~  p(0, 0)) }}
{% endblock %}
{% block cell_0_2 %}
    {{ components.sm_text(i(0, 1), t(0, 1), '10am ' ~  p(0, 1)) }}
{% endblock %}
{% block cell_0_3 %}
    {{ components.sm_text(i(0, 2), t(0, 2), '12pm ' ~  p(0, 2)) }}
{% endblock %}
{% block cell_0_4 %}
    {{ components.sm_text(i(0, 3), t(0, 3), '3pm ' ~  p(0, 3)) }}
{% endblock %}
{% block cell_0_5 %}
    {{ components.sm_text(i(0, 4), t(0, 4), '6pm ' ~  p(0, 4)) }}
{% endblock %}

{% block cell_1_0 %}
    {{ components.tn_header(weather.days[1].title) }}
{% endblock %}
{% block cell_1_1 %}
    {{ components.sm_text(i(1, 0), t(1, 0), '7am ' ~  p(1, 0)) }}
{% endblock %}
{% block cell_1_2 %}
    {{ components.sm_text(i(1, 1), t(1, 1), '10am ' ~  p(1, 1)) }}
{% endblock %}
{% block cell_1_3 %}
    {{ components.sm_text(i(1, 2), t(1, 2), '12pm ' ~  p(1, 2)) }}
{% endblock %}
{% block cell_1_4 %}
    {{ components.sm_text(i(1, 3), t(1, 3), '3pm ' ~  p(1, 3)) }}
{% endblock %}
{% block cell_1_5 %}
    {{ components.sm_text(i(1, 4), t(1, 4), '6pm ' ~  p(1, 4)) }}
{% endblock %}


{% block cell_2_0 %}
    {{ components.tn_header(weather.days[2].title) }}
{% endblock %}
{% block cell_2_1 %}
    {{ components.sm_text(i(2, 0), t(2, 0), '7am ' ~  p(2, 0)) }}
{% endblock %}
{% block cell_2_2 %}
    {{ components.sm_text(i(2, 1), t(2, 1), '10am ' ~  p(2, 1)) }}
{% endblock %}
{% block cell_2_3 %}
    {{ components.sm_text(i(2, 2), t(2, 2), '12pm ' ~  p(2, 2)) }}
{% endblock %}
{% block cell_2_4 %}
    {{ components.sm_text(i(2, 3), t(2, 3), '3pm ' ~  p(2, 3)) }}
{% endblock %}
{% block cell_2_5 %}
    {{ components.sm_text(i(2, 4), t(2, 4), '6pm ' ~  p(2, 4)) }}
{% endblock %}

{% block cell_3_0 %}
    {{ components.tn_header(weather.days[3].title) }}
{% endblock %}
{% block cell_3_1 %}
    {{ components.sm_text(i(3, 0), t(3, 0), '7am ' ~  p(3, 0)) }}
{% endblock %}
{% block cell_3_2 %}
    {{ components.sm_text(i(3, 1), t(3, 1), '10am ' ~  p(3, 1)) }}
{% endblock %}
{% block cell_3_3 %}
    {{ components.sm_text(i(3, 2), t(3, 2), '12pm ' ~  p(3, 2)) }}
{% endblock %}
{% block cell_3_4 %}
    {{ components.sm_text(i(3, 3), t(3, 3), '3pm ' ~  p(3, 3)) }}
{% endblock %}
{% block cell_3_5 %}
    {{ components.sm_text(i(3, 4), t(3, 4), '6pm ' ~  p(3, 4)) }}
{% endblock %}

{% block footer %}
    {{ super() }}
    {% block icon %}
        {{ weather.current.icon }}
    {% endblock icon %}
    {% block primary %}Now: {{ weather.current.temperature | int }}&#x00b0;{% endblock primary %}
    {% block secondary -%}
       {{ 'Updated: ' ~ weather.time }}
    {%- endblock secondary %}
{% endblock footer %}